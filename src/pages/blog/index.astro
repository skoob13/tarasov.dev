---
import BlogCard from 'components/blog-card.astro';
import MainLayout from 'layouts/main-layout.astro';
import { getBlogPostPreviews } from 'lib/blog';
import type { BlogFrontmatter } from 'types';

const rawPosts = await Astro.glob<BlogFrontmatter>('content/blog/**/*.mdx');
const posts = getBlogPostPreviews(rawPosts);
---

<MainLayout>
  <div class="mb-16 flex flex-col items-start justify-center">
    <h1 class="mb-8 mt-8 text-3xl font-bold tracking-tight md:text-6xl">Latest Posts</h1>
    <h2 class="mb-8 text-gray-600 dark:text-gray-400 sm:mb-16">
      My exploration is leaning towards web development and performance gains. However, I may post some personal
      insights.
    </h2>
    <div class="mb-16 w-full">
      <ul class="flex flex-col gap-2">
        {posts.map((post) => <BlogCard post={post} />)}
      </ul>
    </div>
  </div>
</MainLayout>
